<html>
    <head>
        <meta charset="utf-8"> 
        <title>Update Product Information</title>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/common.css')}}">
    </head>
    <body> 
        <main>
            <h1>{{title}}</h1>
            <p>Marketplace Catalog API Reference Web application</p>
        </main>
        <div class="tab">
            <button class="tab-link active" onclick="openTab(event, 'tab1')">Product Information</button>
            <button class="tab-link" onclick="openTab(event, 'tab2')">Update Allowlist</button>
            <button class="tab-link" onclick="openTab(event, 'tab3')">Update Product Visiblity</button>
        </div>
        <!-- {{result_json | tojson(indent=4)}} -->
        <br>
        {% if result_json is not none %} 
            {% set product_title = result_json['Description'].ProductTitle -%}
            {% set short_description = result_json['Description'].ShortDescription -%}
            {% set long_description = result_json['Description'].LongDescription -%}
            {% set categories = result_json['Description'].Categories -%}
            {% set keywords = result_json['Description'].SearchKeywords -%}   
            {% set highlights = result_json['Description'].Highlights -%} 
            {% set sku = result_json['Description'].Sku -%} 
        {% endif %}

        <div class="tab1">
            <h2>Update Product Information</h2>
            <form action="/updateproduct" method="post">
                <label>Product Title:</label><br>
                <input type="text" id="product_title" name="product_title" required value={{product_title}} class="my-text-field"><br>
                
                <br><label>SKU - optional:</label><br>
                <input type="text" id="sku" name="sku" class="my-text-field"><br>

                <br><label>Product logo S3 URL:</label><br>
                <input type="text" id="logo_url" name="logo_url" class="my-text-field"><br>

                <br><label>Short description:</label><br>
                <input type="text" id="short_description" name="short_description" value={{short_description}} class="my-text-field"><br>

                <br><label>Long description:</label><br>
                <input type="textarea" id="long_description" name="long_description" rows="10" cols="40" value={{long_description}} class="my-textarea-field"><br>

                <br><label>Categories:</label><br>
                <input type="text" id="categories" name="categories" value={{categories}} class="my-text-field"><br>

                <br><label>Search Keywords:</label><br>
                <input type="text" id="keywords" name="keywords" value={{keywords}} class="my-text-field"><br>

                <br><label>Highlights:</label><br>
                <input type="text" id="highlights" name="highlights" value={{highlights}} class="my-text-field"><br>


                <input type="hidden" value="{{entity_arn}}" id="entity_arn" name="entity_arn"><br>
                <input type="hidden" value="{{entity_id}}" id="entity_id" name="entity_id"><br>
                <input type="submit" value="Submit">
            </form>

        </div>
       
        <!-- div class="tab2">
            <h2>Update Allowlist</h2>
        </div>
        <div class="tab3">
            <h2>Update Product Visibility</h2>
        </div -->
        <a href="/"><button>Go Home</button></a> 
        <script src="{{url_for('static', filename='script.js')}}"></script>
    </body>
</html>